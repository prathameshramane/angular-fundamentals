<form [formGroup]="form" (ngSubmit)="login()">
    <div class="alert alert-danger" *ngIf="form.errors">
        Authentication failed
    </div>

    <div class="form-group my-2" formGroupName="account">
        <div class="form-group my-1">
            <label for="firstName">First Name</label>
            <input formControlName="firstName" type="text" class="form-control">
        </div>
        <div class="form-group my-1">
            <label for="lastName">Last Name</label>
            <input formControlName="lastName" type="text" class="form-control">
        </div>
    </div>

    <div class="form-group my-2">
        <label for="username">Username</label>
        <input formControlName="username" type="text" class="form-control" id="username" />
        <div *ngIf="username?.pending">Checking for uniqueness...</div>
        <div class="text-danger m-2" *ngIf="username?.touched && username?.invalid">
            <div *ngIf="username?.errors?.['required']">Username is required.</div>
            <div *ngIf="username?.errors?.['cannotContainSpace']">Username cannot contain space.</div>
            <div *ngIf="username?.errors?.['shouldBeUnique']">Username is already taken.</div>
            <div *ngIf="username?.errors?.['minlength']">Username should be minimum of
                {{ username?.errors?.['minlength'].requiredLength }} characters.</div>
        </div>
    </div>
    <div class="form-group my-2">
        <label for="password">Password</label>
        <input formControlName="password" type="text" class="form-control" id="password" />
        <div class="text-danger m-2" *ngIf="password?.touched && password?.invalid">
            <div *ngIf="password?.errors?.['required']">Password is required.</div>
            <div *ngIf="password?.errors?.['minlength']">Password should be minimum of
                {{ password?.errors?.['minlength'].requiredLength }} characters.</div>
        </div>
    </div>
    <button class="btn btn-primary" type="submit">Sign Up</button>
</form>